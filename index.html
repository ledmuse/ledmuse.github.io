<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kullanım Kılavuzları</title>
  <style>
    :root{ --bg:#0a0f1a; --muted:#95a4c7; --text:#e9f0fb; --ok:#22c55e; --radius:18px; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial; color:var(--text);
      background:
        radial-gradient(1000px 700px at -10% -20%, #162445 0%, transparent 60%),
        radial-gradient(900px 600px at 120% 0%, #1b2747 0%, transparent 55%),
        var(--bg);
    }
    .wrap{max-width:1100px; margin:0 auto; padding:24px}
    h1.page-title{ text-align:center; font-size:clamp(28px,6vw,60px); font-weight:800; margin:0 0 24px; }
    .grid{display:grid; grid-template-columns: repeat( auto-fill, minmax(240px,1fr) ); gap:14px}
    .card{position:relative; background:rgba(17,24,38,.6); border:1px solid #22314f; border-radius:var(--radius);
      overflow:hidden; transition: transform .2s ease, box-shadow .2s ease}
    .card:hover{transform: translateY(-2px); box-shadow:0 8px 30px rgba(0,0,0,.25)}
    .cover{height:120px; background:linear-gradient(120deg, rgba(96,165,250,.18), rgba(124,58,237,.18));
      display:flex; align-items:center; justify-content:center; position:relative}
    .cover.has-img{background:none}
    .cover img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
    .icon{opacity:.9; z-index:1}
    .img-badge{position:absolute; right:8px; bottom:8px; background:rgba(0,0,0,.55); color:#fff; padding:2px 6px; border-radius:8px; font-size:11px}
    .body{padding:12px 14px}
    .title{margin:0 0 6px 0; font-size:16px}
    .desc{margin:0; color:var(--muted); font-size:13px; min-height:38px}
    .meta{display:flex; gap:8px; align-items:center; margin-top:10px; font-size:12px; color:#a9bbda}
    .dot{width:8px; height:8px; border-radius:999px; background:var(--ok)}
    .path{opacity:.9}
    .link{position:absolute; inset:0}
  </style>
</head>
<body>
  <div class="wrap">
    <h1 class="page-title">Kullanım Kılavuzları</h1>
    <div id="grid" class="grid" aria-live="polite"></div>
  </div>

  <template id="cardTemplate">
    <article class="card">
      <div class="cover">
        <!-- yedek ikon -->
        <svg class="icon" width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 3a6 6 0 0 0-6 6c0 2.22 1.2 4.15 3 5.2V18a3 3 0 0 0 3 3 3 3 0 0 0 3-3v-3.8c1.8-1.05 3-2.98 3-5.2a6 6 0 0 0-6-6Z" stroke="currentColor" stroke-width="1.2"/>
          <path d="M9 11h6M8 14h8" stroke="currentColor" stroke-width="1.2"/>
        </svg>
      </div>
      <div class="body">
        <h3 class="title">Başlık</h3>
        <p class="desc">Ürün sayfasına gitmek için tıklayın.</p>
        <div class="meta"><span class="dot"></span><span class="path"></span></div>
      </div>
      <a class="link" target="_self" rel="noopener"></a>
    </article>
  </template>

  <script>
    // Sabit klasör listesi → net ve hızlı
    const PROJECTS = [
      "12-24V-ac-kapat-led-kontrol-unitesi",
      "cuppon-bioklimatik-pano",
      "cuppon-tilt-pano",
      "rgb-led-dimmer",
      "s-bioklimatik-pano",
      "s-dimmer",
      "s-tilt-bioklimatik-pano",
      "sftr-led-dimmer-multi",
      "sftr-led-dimmer",
      "tilt-piston-motor-kontrol-unitesi",
    ];
    const grid = document.getElementById('grid');

    const pretty = s => s.replace(/[-_]+/g,' ').replace(/\b\w/g, c=>c.toUpperCase());

    function makeCard(slug){
      const node = document.getElementById('cardTemplate').content.cloneNode(true);
      const card = node.firstElementChild;
      card.querySelector('.title').textContent = pretty(slug);
      card.querySelector('.path').textContent  = `${slug}/index.html`;
      card.querySelector('.link').href        = `/${slug}/index.html`;
      // kapak: cover.webp → cover.jpg → cover.png
      setCover(card, slug);
      return card;
    }

    function setCover(card, slug){
      const cover = card.querySelector('.cover');
      const candidates = [`/${slug}/cover.webp`, `/${slug}/cover.jpg`, `/${slug}/cover.png`];
      const img = new Image();
      img.loading = 'lazy';
      img.alt = 'Kapak';
      img.onerror = ()=>{ /* kapak yoksa svg ikon kalsın */ };
      // ilki dener, hata olursa sıradakine geçer
      let i = 0;
      const tryNext = ()=>{
        if(i >= candidates.length) return;
        img.src = candidates[i++];
      };
      img.onload = ()=>{
        cover.classList.add('has-img');
        cover.innerHTML = '';
        cover.appendChild(img);
        const b = document.createElement('span');
        b.className = 'img-badge';
        b.textContent = img.src.split('/').pop();
        cover.appendChild(b);
      };
      // hata halinde sıradaki formata geç
      img.onerror = ()=>{ if(i < candidates.length) tryNext(); };
      tryNext();
    }

    function bootstrap(){
      grid.innerHTML = '';
      for(const slug of PROJECTS){
        grid.appendChild(makeCard(slug));
      }
    }
    bootstrap();
  </script>
</body>
</html>
